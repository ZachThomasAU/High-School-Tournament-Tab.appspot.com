<div>
	<script>
		function fill_dropdown(id, kind, propertyname){
			
			// Function for filling gamecode dropdown from list of games
			//alert('load gamecodes')
			
			var html_code = '';
			var data = 'kind=' + kind + '&propertyname='+ propertyname;
			
			//AJAX Serlvet Request to Get JSON Data	
			$.ajax( {
				url: 'getPropertyList',	
				type: 'POST',
				dataType: 'json',
				data: data,
				success: function(data) {
					//$('#output_box').html('returned' + data.propertylist[0]);
					data.propertylist.forEach(function (value) {
						html_code += '<option>'+ value +'</option>';
						//alert('returned data :' + value)
						//$('#output_box').html(html_code);
						$(id).html(html_code);
					});
				}
			});	
		}
		
		$(document).ready(function() {
			fill_dropdown("#gamecode", "Game", "gameID");
		});
		
	</script>
	<!-- Add Team Button Trigger Modal -->
	<button type="button" class="btn btn-primary btn-block" data-toggle="modal" 
			data-target="#addResultsModalLong">
	  Add Results
	</button>
	
	<!-- Modal -->
	<div class="modal fade" id="addResultsModalLong" tabindex="-1" role="dialog" 
		 aria-labelledby="exampleModalLongTitle" aria-hidden="true">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title" id="AddResultsModalTitle">
	        	Add Results</h5>
	        <button type="button" class="close" data-dismiss="modal" 
	        		aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      
	      <div id="addResultsModalBody" class="modal-body">              
			
			<div id="addresults">
				
				<label for="gamecode">Game Code</label> 
				<select class="form-control" id="gamecode" name="gamecode">
					<option>No Games to Choose from</option>
				</select>
				<br>			
				<label for="resultcode">Winner</label> 		
				<select name="resultcode" class="form-control">
				     <option>Team 1</option>
				     <option>Team 2</option>
		    	</select>   	
				<br/>
				<p id="holdresults" style="border: 1px solid red">
						Response will come here</p>
			</div>			 	
	      </div>     
	      <div class="modal-footer">
	        <button id="AddResultsCloseButton" type="button" class="btn btn-secondary" 
	        		data-dismiss="modal">Close</button>
	        		
	        <button id="AddResultsSubmitButton" type="button" 
	        		class="btn btn-primary" >Submit</button>
	      </div>	      
	    </div>
	  </div>
	</div>
	
	<script>
	
	$('#AddResultsSubmitButton').click(function(){	
		
		$("#holdresults").html($("#addresults").find("select,textarea, input").serialize());
		
		var datastring = $("#addresults").find("select,textarea, input").serialize()
		 + '&tnameaddresult=' + $('#tournamentSelect').val();
		
		alert(datastring);
		
		$.ajax({
			url: 'addResults',	
			type: 'POST',
			dataType: 'json',
			data: datastring,
			success: function(data){				
				if(data.respcode == 100){												
					alert("Success: Added Result to the datastore")	
				} else if(data.respcode == 400){													
					alert("That Tournament was not found")					    
				} else if(data.respcode == 300){													
					alert("That Gamecode was not found")					    
				} else if(data.respcode == 200){													
					alert("That Game already has a result")					    
				} else {
					alert("Returned unknown code!")	
				}
			}	
		});		
		
	return false;
	});
	
	</script>
</div>	
	